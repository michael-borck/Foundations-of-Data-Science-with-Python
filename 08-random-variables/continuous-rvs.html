
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>8.6. Continuous Random Variables &#8212; Foundations of Data Science with Python</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.7. Outline of Remaining Sections" href="outline.html" />
    <link rel="prev" title="8.4. Important Discrete RVs" href="important-discrete-rvs.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-51XGJJ29T3"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-51XGJJ29T3');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Foundations of Data Science with Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Foundations of Data Science with Python
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01-intro/intro.html">
   1. Introduction
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro/who-for.html">
     1.1. Who is this book for?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro/why-this-book.html">
     1.2. Why learn data science from this book?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro/what-is-data-science.html">
     1.3. What is data science?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro/what-book-covers.html">
     1.4. What data science topics does this book cover?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro/intro-jupyter-and-python.html">
     1.5. Extremely Brief Intro to Jupyter and Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro/jupyter-start.html">
     1.6. Getting Started in Jupyter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro/python-start.html">
     1.7. Getting Started in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro/review.html">
     1.8. Review
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02-first-stats/intro.html">
   2. First Simulations, Visualizations, and Statistical Tests
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-first-stats/motivating-problem.html">
     2.1. Motivating Problem: Is This Coin Fair?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-first-stats/first-sims.html">
     2.2. First Computer Simulations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-first-stats/first-vis.html">
     2.3. First Visualizations: Scatter Plots and Histograms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-first-stats/first-stats.html">
     2.4. First Statistical Tests
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-first-stats/review.html">
     2.5. Review
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03-first-data/intro.html">
   3. First Visualizations and Statistical Tests with Real Data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-first-data/pandas-start.html">
     3.1. Intro to Pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-first-data/visualization.html">
     3.2. Visualizing Multiple Data Sets - Part 1: Scatter Plots
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-first-data/partitions.html">
     3.3. Partitions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-first-data/summary-stats.html">
     3.4. Summary Statistics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-first-data/histogram.html">
     3.5. Visualizing Multiple Data Sets - Part 2: Histograms for Partitioned Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-first-data/hypothesis-testing.html">
     3.6. Binary Hypothesis Testing with Real Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-first-data/2d-scatter.html">
     3.7. A Quick Preview of Two-Dimensional Statistical Methods
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-first-data/review.html">
     3.8. Review
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04-probability1/intro.html">
   4. Introduction to Probability
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-probability1/outcomes-samplespaces-events.html">
     4.1. Outcomes, Sample Spaces, and Events
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-probability1/relative-frequency.html">
     4.2. Relative Frequencies and Probabilities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-probability1/fair-experiments.html">
     4.3. Fair Experiments
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-probability1/axiomatic-prob.html">
     4.4. Axiomatic  Probability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-probability1/corollaries.html">
     4.5. Corollaries to the Axioms of Probability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-probability1/combinatorics.html">
     4.6. Combinatorics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-probability1/review.html">
     4.7. Review
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-probability1/summary.html">
     4.8. Summary
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05-binary-hypothesis-testing/outline.html">
   5. Binary Hypothesis Tests with Resampling (Outline)
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06-conditional-prob/intro.html">
   6. Dependence and Independence
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/simulating-cond-probs.html">
     6.1. Simulating and Counting Conditional Probabilities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/notation-and-intuition.html">
     6.2. Conditional Probability: Notation and Intuition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/definition.html">
     6.3. Formally Defining Conditional Probability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/relating-cond-uncond.html">
     6.4. Relating Conditional and Unconditional Probabilities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/more-on-simulating.html">
     6.5. More on Simulating Conditional Probabilities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/independence.html">
     6.6. Statistical Independence
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/fair-exps.html">
     6.7. Conditional Probabilities and Independence in Fair Experiments
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/conditional-independence.html">
     6.8. Conditioning and (In)dependence
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/chain-rules-total-prob.html">
     6.9. Chain Rules and Total Probability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/review.html">
     6.10. Review
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-conditional-prob/summary.html">
     6.11. Summary
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../07-bayesian-methods/intro.html">
   7. Introduction to Bayesian Methods
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-bayesian-methods/bayes-rule.html">
     7.1. Bayes’ Rule
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-bayesian-methods/bayes-hidden-state.html">
     7.2. Bayes’ Rule in Systems with Hidden State
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-bayesian-methods/optimal-decisions.html">
     7.3. Optimal Decisions for Discrete Stochastic Systems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-bayesian-methods/bayesian-hypothesis-testing.html">
     7.4. Bayesian Hypothesis Testing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-bayesian-methods/review.html">
     7.5. Review
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-bayesian-methods/summary.html">
     7.6. Summary
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="intro.html">
   8. Random Variables (In Progress)
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="definition.html">
     8.1. Definition of a Real Random Variable
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="discrete-rvs.html">
     8.2. Discrete Random Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cdfs.html">
     8.3. Cumulative Distribution Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="important-discrete-rvs.html">
     8.4. Important Discrete RVs
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     8.6. Continuous Random Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="outline.html">
     8.7. Outline of Remaining Sections
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../09-moments/outline.html">
   9. Moments, Parameter Estimation, and Binary Hypothesis Tests on Sample Means (Outline)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../10-conditional-stats/outline.html">
   10. Applications of Conditional Distributions to Statistical Tests (Outline)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../11-matrix-vector-regression/outline.html">
   11. Multidimensional Data and Regression (Outline)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../12-categorical-data/outline.html">
   12. Tests of Independence for Categorical Data (Outline)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../13-clustering-transforming/outline.html">
   13. Clustering and Transforming Multi-dimensional Data (Outline)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../14-matrix-applications/outline.html">
   14. Applications of Matrices to Solving Equations, Curve Fitting, and Regression (Outline)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../15-multidim-dependence/outline.html">
   15. Working with Dependent Data in Multiple Dimensions (Outline)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../16-next-steps/outline.html">
   16. Next Steps (Outline)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../genindex.html">
   17. Index
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/08-random-variables/continuous-rvs.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/08-random-variables/continuous-rvs.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivating-example-poisson-events">
   8.6.1. Motivating Example – Poisson Events
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#definition-and-implications">
   8.6.2. Definition and Implications
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#density-functions">
   8.6.3. Density Functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#properties-of-density-functions">
   8.6.4. Properties of Density Functions
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Continuous Random Variables</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivating-example-poisson-events">
   8.6.1. Motivating Example – Poisson Events
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#definition-and-implications">
   8.6.2. Definition and Implications
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#density-functions">
   8.6.3. Density Functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#properties-of-density-functions">
   8.6.4. Properties of Density Functions
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">numpy.random</span> <span class="k">as</span> <span class="nn">npr</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
</pre></div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="continuous-random-variables">
<h1><span class="section-number">8.6. </span>Continuous Random Variables<a class="headerlink" href="#continuous-random-variables" title="Permalink to this headline">¶</a></h1>
<p>The discrete random variables introduced the last two sections can model many random phenomena of interest; however, there are also many phenomena that they cannot model. Let’s begin with an example based on our study of the Poisson random variable in <a class="reference internal" href="important-discrete-rvs.html"><span class="doc">Important Discrete RVs</span></a>.</p>
<div class="section" id="motivating-example-poisson-events">
<h2><span class="section-number">8.6.1. </span>Motivating Example – Poisson Events<a class="headerlink" href="#motivating-example-poisson-events" title="Permalink to this headline">¶</a></h2>
<p>The Poisson random variable models the number of events that occur in some time period for a random phenomenon with events that occur randomly over time at some specified rate <span class="math notranslate nohighlight">\(\lambda\)</span>. However, the Poisson random variable does not tell us <strong>when</strong> those events occur.</p>
<p>Let’s first try to get some insight into the distribution of the event times via simulating Poisson events. Let <span class="math notranslate nohighlight">\(P\)</span> be the number of Poisson events in an interval. Then given <span class="math notranslate nohighlight">\(P=p\)</span> (i.e., given the number of Poisson events is some specific value <span class="math notranslate nohighlight">\(p\)</span> to be specified later), the <span class="math notranslate nohighlight">\(p\)</span> events should be equally likely to be anywhere in the interval being observed.  Let’s simulate this scenario for the shark attack example from <a class="reference internal" href="important-discrete-rvs.html"><span class="doc">Important Discrete RVs</span></a>. The average number of shark attacks per year in Volussia County was given in the referenced article as 9. Let’s treat the interval as 365 days instead of 1 year, so that the resulting times are not all small decimals.</p>
<p>The first thing to note is that the event times are <strong>not discrete</strong>. There is no need to limit our model of when events can occur to just the day, hour, or minute – the events can occur at any non-negative real value in the observation interval. Let <span class="math notranslate nohighlight">\(T_i\)</span>, <span class="math notranslate nohighlight">\(0 \le i \le p-1\)</span>,  be the random variable representing the time that event <span class="math notranslate nohighlight">\(i\)</span> occurs. If <span class="math notranslate nohighlight">\(T_i\)</span> is equally likely to be any time in that interval, then <span class="math notranslate nohighlight">\(T\)</span> is a <em>uniform continuous random variable</em>.</p>
<p>We can create a SciPy.stats object representing a continuous random variable on the interval <span class="math notranslate nohighlight">\([0,365]\)</span> as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">T</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">365</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s draw 10 random times from this interval:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">T</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([113.94411913, 130.77460797,   9.61494974, 116.65752076,
       112.65990161,  90.77897028, 336.66603092,  12.98225928,
        32.75447351, 327.90181466])
</pre></div>
</div>
</div>
</div>
<p>We can note a few things:</p>
<ul class="simple">
<li><p>Each random variable is drawn separately and independently, and the resulting values are not sorted in any way.</p></li>
<li><p>The values are not integer.</p></li>
<li><p>Although the values are meant to represent values from <span class="math notranslate nohighlight">\([0,365]\)</span>, they are limited to values that can be represented by Python’s <code class="docutils literal notranslate"><span class="pre">float</span></code> type, which has limited resolution.</p></li>
</ul>
<p>Let’s investigate the histogram of values drawn from this distribution. We will use 100,000 random values to allow us to create a histogram with many bins:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ts</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="mi">100_000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="mi">100</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/continuous-rvs_9_0.png" src="../_images/continuous-rvs_9_0.png" />
</div>
</div>
<p>The relative frequencies are approximately equal for all of the bins, which we expect if the random values are equally likely to be anywhere in the interval.</p>
<p>Now let’s plot the empirical CDF, which we can get by passing <code class="docutils literal notranslate"><span class="pre">density</span> <span class="pre">=</span> <span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">cumulative</span> <span class="pre">=</span> <span class="pre">True</span></code> as parameters to <code class="docutils literal notranslate"><span class="pre">plt.hist()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">density</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">cumulative</span> <span class="o">=</span> <span class="kc">True</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/continuous-rvs_11_0.png" src="../_images/continuous-rvs_11_0.png" />
</div>
</div>
<p>This is a very different CDF than any we encountered in <a class="reference internal" href="important-discrete-rvs.html"><span class="doc">Important Discrete RVs</span></a>. The CDF for a discrete random variable is a staircase function. By contrast, this CDF appears to be a continuous function. Let’s see if we can determine the CDF for <span class="math notranslate nohighlight">\(T\)</span>. If <span class="math notranslate nohighlight">\(T\)</span> is equally likely to be any value in <span class="math notranslate nohighlight">\([0, 365]\)</span>, then if we choose any interval <span class="math notranslate nohighlight">\([a,b] \subseteq [0,365]\)</span>, then the probability that <span class="math notranslate nohighlight">\(T \in [a,b]\)</span> should be proportional to the length <span class="math notranslate nohighlight">\(b-a\)</span>.  Since the probability that <span class="math notranslate nohighlight">\(T\)</span> is any value in <span class="math notranslate nohighlight">\([0, 365]\)</span> is 1, it must be that</p>
<div class="math notranslate nohighlight">
\[
P\left( T \in \left[a,b\right] \right)  = \frac{b-a}{365-0}, \mbox{provided} [a,b] \subseteq [0,365].
\]</div>
<p>In particular, note that <span class="math notranslate nohighlight">\(P(T \le t) = P(T \in [0,t])\)</span> if <span class="math notranslate nohighlight">\(t \in [0,365]\)</span>.  Thus</p>
<div class="math notranslate nohighlight">
\[
F_t(t) = \frac{t-0}{365} = \frac{t}{365}, ~~ 0 \le t \le 365,
\]</div>
<p>which is shown below on top of the empirical CDF:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Empirical CDF</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">density</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">cumulative</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">);</span>

<span class="c1"># Analytical CDF</span>
<span class="n">tvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">365</span><span class="p">,</span> <span class="mi">366</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tvals</span><span class="p">,</span> <span class="n">tvals</span><span class="o">/</span><span class="mi">365</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$t$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$F_T(t)$&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/continuous-rvs_13_0.png" src="../_images/continuous-rvs_13_0.png" />
</div>
</div>
<p>The empirical CDF and the analytical CDF match up almost exactly. So now we have a way to generate Poisson events: Generate a random value <span class="math notranslate nohighlight">\(P\)</span> according to the Poisson distribution. Then generate <span class="math notranslate nohighlight">\(P\)</span> random values from the uniform continuous  distribution on <span class="math notranslate nohighlight">\([0, 365]\)</span>. Let’s start by creating our SciPy.stats Python object with parameter 9:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">P</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">poisson</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>I am including code to create the uniform time random variable for people who are running this code out of order:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">T</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">365</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s create six different realizations of the Poisson events for a year. For each realization, we draw a random number of events. We use our usual notation that (upper case) <code class="docutils literal notranslate"><span class="pre">P</span></code> denotes the SciPy random variable object and (lower case) <span class="math notranslate nohighlight">\(p\)</span> denotes a particular value drawn from the random variable <span class="math notranslate nohighlight">\(P\)</span>. determine the arrival times for each of the <span class="math notranslate nohighlight">\(P\)</span> events</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rows</span><span class="o">=</span><span class="mi">3</span>
<span class="n">cols</span><span class="o">=</span><span class="mi">2</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span><span class="p">):</span>
    <span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="o">.</span><span class="n">rvs</span><span class="p">()</span>
    <span class="n">t</span><span class="o">=</span><span class="n">T</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;v&#39;</span> <span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Hide most of the border</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span>          <span class="c1"># changes apply to the x-axis</span>
                         <span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span>      <span class="c1"># both major and minor ticks are affected</span>
                         <span class="n">left</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>      <span class="c1"># ticks along the bottom edge are off</span>
                         <span class="n">right</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>         <span class="c1"># ticks along the top edge are off</span>
                         <span class="n">labelleft</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># labels along the bottom edge are off</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/continuous-rvs_19_0.png" src="../_images/continuous-rvs_19_0.png" />
</div>
</div>
<p>This approach will work to generate Poisson events. However, it is not able to answer some simple questions like <em>what is the distribution for the first event time?</em>  Let’s start out by finding out what the distribution for the first event time looks like by using simulation. Let’s simulate 100,000 sets of Poisson events and store the <em>first</em> event time (i.e., the minimum of the randomly generated times) for each simulation iteration:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_sims</span> <span class="o">=</span> <span class="mi">100_000</span>
<span class="n">first_event_times</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">sim</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_sims</span><span class="p">):</span>
  <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">rvs</span><span class="p">()</span> <span class="c1"># a Poisson number of events</span>
  <span class="k">if</span> <span class="n">p</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
    <span class="n">first_event_times</span> <span class="o">+=</span> <span class="p">[</span> <span class="n">ts</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s plot the histogram for the first event times:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">first_event_times</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/continuous-rvs_23_0.png" src="../_images/continuous-rvs_23_0.png" />
</div>
</div>
<p>The histogram for the first event times looks very different than the histogram for a particular event’s time. It clearly is not uniformly distributed on <span class="math notranslate nohighlight">\([0,365]\)</span>.</p>
<p>Here is the empirical CDF:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">first_event_times</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cumulative</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/continuous-rvs_25_0.png" src="../_images/continuous-rvs_25_0.png" />
</div>
</div>
<p>Again, the CDF appears to be a continuous function.
In fact, the Poisson random variable gives us enough information to find the CDF for the first event times.  Let <span class="math notranslate nohighlight">\(T_0\)</span> to be the time at which the first event occurs. Then suppose we want to find the probability that <span class="math notranslate nohighlight">\(T_0\)</span> is greater than some specified value <span class="math notranslate nohighlight">\(t\)</span>. This will be true if there are no arrivals in the period <span class="math notranslate nohighlight">\([0,t]\)</span>.  For events that occur at rate <span class="math notranslate nohighlight">\(\lambda\)</span>, the number of events that occur in the period <span class="math notranslate nohighlight">\([0,t]\)</span> is a Poisson random variable with parameter <span class="math notranslate nohighlight">\(\alpha_t= \lambda t\)</span>; let’s refer to this Poisson random variable as <span class="math notranslate nohighlight">\(N_t\)</span>.  We can use the PMF for the Poisson random variable to give</p>
<div class="amsmath math notranslate nohighlight" id="equation-cac9b637-cce3-4e8e-b2ff-a65d8d15b66c">
<span class="eqno">(8.6)<a class="headerlink" href="#equation-cac9b637-cce3-4e8e-b2ff-a65d8d15b66c" title="Permalink to this equation">¶</a></span>\[\begin{align}
P(T_0 &gt; t ) &amp;= P\left(N_t = 0 \right )\\
&amp;= \frac{\alpha_{t}^0}{0!} e^{-\alpha_t} \\
&amp;= e^{-\lambda t}.
\end{align}\]</div>
<p>For our shark example, <span class="math notranslate nohighlight">\(\lambda =9\)</span> attacks per year or <span class="math notranslate nohighlight">\(\lambda=9/365\)</span> attacks per day. The figure below shows <span class="math notranslate nohighlight">\(P(T_0 &gt;t)\)</span> as a function of <span class="math notranslate nohighlight">\(t\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">365</span><span class="p">,</span><span class="mi">366</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span> <span class="mi">9</span><span class="o">/</span><span class="mi">365</span> <span class="o">*</span> <span class="n">t</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Pr(First event occurs after time $t$, $P(T_0 &gt;t)$&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/continuous-rvs_27_0.png" src="../_images/continuous-rvs_27_0.png" />
</div>
</div>
<p>We can apply some intuition to see if this makes sense. If an average of 9 events occur, then it seems likely that the first event occurs in the first <span class="math notranslate nohighlight">\(365/9 \approx 40.6\)</span> days. The figure confirms this intuition.</p>
<p>Note also that the shape of this curve resembles the shape of the histogram for the data.</p>
<p>We can extend this analysis to get the histogram for <span class="math notranslate nohighlight">\(T_0\)</span>, <span class="math notranslate nohighlight">\(F_{T_0}(t) = P(T_0 \le t) = 1 -P(t) = 1 - e^{\lambda t}\)</span>.  Since <span class="math notranslate nohighlight">\(P(T_0 &lt; 0) =0\)</span>, we can summarize its CDF as</p>
<div class="math notranslate nohighlight">
\[\begin{split}
F_{T_0} (t) = 
\begin{cases} 
1 -P(t) = 1 - e^{\lambda t}, &amp; t \ge 0 \\
0, &amp; t &lt; 0
\end{cases}.
\end{split}\]</div>
<p>The CDF is shown below for this example, plotted on the same graph as the empirical CDF:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Empirical CDF</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">first_event_times</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cumulative</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">);</span>

<span class="c1"># Analytical CDF</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">365</span><span class="p">,</span> <span class="mi">366</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span> <span class="mi">9</span><span class="o">/</span><span class="mi">365</span> <span class="o">*</span> <span class="n">t</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$F_</span><span class="si">{T_0}</span><span class="s1">(t) = P(T_0 &gt;t)$&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/continuous-rvs_30_0.png" src="../_images/continuous-rvs_30_0.png" />
</div>
</div>
<p>Again, the CDF is a continuous function, not a staircase function, and this is a very different CDF than for the uniform random variable.  In fact, this is the CDF of an <em>exponential random variable.</em> Let’s create a SciPy.stats object for an exponential distribution. Note that instead of the parameter <span class="math notranslate nohighlight">\(\lambda\)</span>, we need to pass the average time before an event occurs as the <code class="docutils literal notranslate"><span class="pre">scale</span></code> parameter. The average value is simply the value <span class="math notranslate nohighlight">\(365/9 \approx 40.6\)</span> that we computed before. Below, we create a Scipy.stats object for an exponential distribution with this parameter and plot the CDF of this object on top of the empirical histogram:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">expon</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">40.6</span><span class="p">)</span>

<span class="c1"># Empirical CDF</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">first_event_times</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cumulative</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">);</span>

<span class="c1"># Analytical CDF from exponential random variable object</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">365</span><span class="p">,</span> <span class="mi">366</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f7bf63dda10&gt;]
</pre></div>
</div>
<img alt="../_images/continuous-rvs_32_1.png" src="../_images/continuous-rvs_32_1.png" />
</div>
</div>
</div>
<div class="section" id="definition-and-implications">
<h2><span class="section-number">8.6.2. </span>Definition and Implications<a class="headerlink" href="#definition-and-implications" title="Permalink to this headline">¶</a></h2>
<p>For most purposes, the following definition of a continuous random variable will suffice:</p>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-12 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">DEFINITION</p>
</div>
<div class="card-body docutils">
<dl class="glossary simple">
<dt id="term-continuous-uniform-random-variable">continuous uniform random variable<a class="headerlink" href="#term-continuous-uniform-random-variable" title="Permalink to this term">¶</a></dt><dd><p class="card-text">A random variable <span class="math notranslate nohighlight">\(X\)</span> that has an uncountably infinite number of values in its range
and for which the cumulative distribution function (CDF) <span class="math notranslate nohighlight">\(F_X(x)\)</span> is a <strong>continuous function of</strong>  <span class="math notranslate nohighlight">\(x\)</span>.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<p>You should already know what a continuous function is.  Informally, it is easiest to think of how the function looks when plotted.  A continuous function has no “breaks” in its graph, and we can imagine drawing it without having to pick up our pencil.</p>
<p>Mathematically, <span class="math notranslate nohighlight">\(F_X(x)\)</span> is a continuous function at a point <span class="math notranslate nohighlight">\(x_0\)</span> if and only</p>
<div class="amsmath math notranslate nohighlight" id="equation-97ac0e3a-2ae2-47e4-8818-d5658755dc0e">
<span class="eqno">(8.7)<a class="headerlink" href="#equation-97ac0e3a-2ae2-47e4-8818-d5658755dc0e" title="Permalink to this equation">¶</a></span>\[\begin{align}
\lim_{\epsilon \rightarrow 0} F_X(x_0-\epsilon) &amp;= F_X(x_0), \mbox{ and} \\
\lim_{\epsilon \rightarrow 0} F_X(x_0+\epsilon) &amp;= F_X(x_0).
\end{align}\]</div>
<p>We say that the “limit from the left” and the “limit from the right” are equal to the value of <span class="math notranslate nohighlight">\(F_X()\)</span> at <span class="math notranslate nohighlight">\(x_0\)</span>.</p>
<p>Then <span class="math notranslate nohighlight">\(F_X(x)\)</span> is a continuous function if and only if it is a continuous function at every point <span class="math notranslate nohighlight">\(x\)</span>.</p>
<p>If <span class="math notranslate nohighlight">\(X\)</span> is a continuous random variable, then the fact that <span class="math notranslate nohighlight">\(F_X(x)\)</span> is a continuous random variable has an interesting implication.  Recall from <a class="reference internal" href="cdfs.html"><span class="doc">Cumulative Distribution Functions</span></a> that <span class="math notranslate nohighlight">\(P(X=x)\)</span> is equal to the “height of the jump” in <span class="math notranslate nohighlight">\(F_X(x)\)</span> at the point <span class="math notranslate nohighlight">\(x\)</span>. For continuous functions, there are no jumps!  Mathematically, we saw that</p>
<div class="math notranslate nohighlight">
\[
P(X=b) = F_X(b^+) - F_X(b^-).
\]</div>
<p>Since <span class="math notranslate nohighlight">\(F_X(x)\)</span> is continuous, <span class="math notranslate nohighlight">\(F_X(x^+) = F_X(x) = F_X(x^-)\)</span> for all <span class="math notranslate nohighlight">\(x\)</span>, and thus</p>
<div class="math notranslate nohighlight">
\[
P(X=x) = F_X(x^+) - F_X(x^-) = F_X(x) -F_X(x) =0.
\]</div>
<p>Since this holds for all <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(P(X=x)=0\)</span> for all <span class="math notranslate nohighlight">\(x\)</span>. This is a surprising and counterintuitive result: <strong>none of the values that <span class="math notranslate nohighlight">\(X\)</span> takes on have a non-zero probability.</strong></p>
<p>This is hard to understand in the abstract, so let’s consider a concrete example. For the uniform random variable on <span class="math notranslate nohighlight">\([0,1],\)</span> the distribution function is</p>
<div class="math notranslate nohighlight">
\[\begin{split}
F_X(x) = 
\begin{cases}
0, &amp; x&lt;0 \\
x, &amp; 0 \le x &lt; 1 \\
1, &amp; x \ge 1\\
\end{cases}.
\end{split}\]</div>
<p>Consider the probability of a symmetric interval centered around 0.5, <span class="math notranslate nohighlight">\(P\left( X \in \left(0.5 - \epsilon, 0.5+ \epsilon \right] \right)\)</span>. Using Property 4 of the CDF, we can calculate this probability as a function of <span class="math notranslate nohighlight">\(0 &lt; \epsilon \le 0.5\)</span> as follows</p>
<div class="amsmath math notranslate nohighlight" id="equation-5c349a8d-4cc1-4009-808e-f379ba92645d">
<span class="eqno">(8.8)<a class="headerlink" href="#equation-5c349a8d-4cc1-4009-808e-f379ba92645d" title="Permalink to this equation">¶</a></span>\[\begin{align}
 P\left( X \in \left(0.5 - \epsilon, 0.5+ \epsilon \right] \right) &amp; =  P ( 0.5 - \epsilon &lt; X \le 0.5 + \epsilon) \\
 &amp; = F_X(0.5 + \epsilon) - F_X (0.5  - \epsilon) \\
 &amp;= (0.5 + \epsilon) - (0.5 - \epsilon) \\
 &amp;= 2 \epsilon
\end{align}\]</div>
<p>In fact, it is not hard to see that <span class="math notranslate nohighlight">\(P\left( X \in \left(x -\epsilon, x+ \epsilon \right] \right) = 2 \epsilon\)</span> for any <span class="math notranslate nohighlight">\(x \in (0,1)\)</span> provided <span class="math notranslate nohighlight">\(\epsilon\)</span> is small enough that <span class="math notranslate nohighlight">\(\left(x -\epsilon, x+ \epsilon \right] \subseteq [0,1]\)</span>.</p>
<p>Note that <span class="math notranslate nohighlight">\(P(X=x) \le P\left( X \in \left(x -\epsilon, x+ \epsilon \right] \right) \)</span> for all <span class="math notranslate nohighlight">\(\epsilon &gt; 0\)</span>. Then</p>
<div class="amsmath math notranslate nohighlight" id="equation-46fe80d1-29d4-49ee-a8d8-5d3aaa26e8ab">
<span class="eqno">(8.9)<a class="headerlink" href="#equation-46fe80d1-29d4-49ee-a8d8-5d3aaa26e8ab" title="Permalink to this equation">¶</a></span>\[\begin{align}
P(X=x) &amp; \le \lim_{\epsilon \rightarrow 0} P\left( X \in \left(x -\epsilon, x+ \epsilon \right] \right)  \\
&amp; = \lim_{\epsilon \rightarrow 0} 2 \epsilon = 0.
\end{align}\]</div>
<p>Since <span class="math notranslate nohighlight">\(P(X=x) \ge 0\)</span>, it must be that <span class="math notranslate nohighlight">\(P(X=x) =0\)</span> for all <span class="math notranslate nohighlight">\(x\)</span>.
 
<strong>If you have not encountered this before, it may seem to make no sense – how can <span class="math notranslate nohighlight">\(X\)</span> not have
any nonzero probabilities for any values in its range?</strong> Let’s start with an analogy. Consider a rectangular wood block, such as the  one shown below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.image</span> <span class="k">as</span> <span class="nn">mpimg</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;figs/woodblock.png&#39;</span><span class="p">)</span>
<span class="n">imgplot</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>
<span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span>          <span class="c1"># changes apply to the x-axis</span>
               <span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span>      <span class="c1"># both major and minor ticks are affected</span>
               <span class="n">left</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>      <span class="c1"># ticks along the bottom edge are off</span>
               <span class="n">right</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>         <span class="c1"># ticks along the top edge are off</span>
               <span class="n">labelleft</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># labels along the bottom edge are off</span>


<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>libpng warning: iCCP: known incorrect sRGB profile
</pre></div>
</div>
<img alt="../_images/continuous-rvs_35_1.png" src="../_images/continuous-rvs_35_1.png" />
</div>
</div>
<p>If the wood block weighs 100 g and the mass is evenly distributed, how much mass is in the horizontal range <span class="math notranslate nohighlight">\([0,50]\)</span> ? That range contains half the block, so the answer is 1/2. How much mass is in the horizontal range <span class="math notranslate nohighlight">\([0,x]\)</span>, where <span class="math notranslate nohighlight">\(0 \le x \le 100\)</span>? The range contains <span class="math notranslate nohighlight">\(x/100\)</span> of the mass, so the answer is <span class="math notranslate nohighlight">\(x\)</span> grams. But if we ask how much mass is at any point, then we are back to the same issue.  For instance, the mass at horizontal location 0 is the mass in the range <span class="math notranslate nohighlight">\([0,0]\)</span>, which is 0 grams.</p>
<p>The way to resolve this issue is that we do not specify the mass at any particular location on the horizontal axis – instead we can specify the mass density. So, if the horizontal axis is in millimeters, then the mass density is 100 g/ 100 mm = 1 g/mm. Since the mass is assumed to be evenly distributed, the mass in any horizontal range <span class="math notranslate nohighlight">\([x_0, x_1]\)</span>, where <span class="math notranslate nohighlight">\(0 \le x_0 &lt; x_1 \le 100\)</span> is then <span class="math notranslate nohighlight">\((x_1 -x_0) \mbox{mm} \cdot (1  \mbox{g/mm}) = (x_1 -x_0)\)</span> g. If our mass is nonuniformly distributed, then we can create a function <span class="math notranslate nohighlight">\(\rho(x)\)</span> that gives the mass density at position <span class="math notranslate nohighlight">\(x\)</span>. Then the mass density in an interval <span class="math notranslate nohighlight">\([x_0, x_1]\)</span> is</p>
<div class="math notranslate nohighlight">
\[
\int_{x_0}^{x_1} \rho(x) ~ dx.
\]</div>
</div>
<div class="section" id="density-functions">
<h2><span class="section-number">8.6.3. </span>Density Functions<a class="headerlink" href="#density-functions" title="Permalink to this headline">¶</a></h2>
<p>We can apply the same idea as mass density in physical objects to probability distributions. The CDF for a random variable <span class="math notranslate nohighlight">\(X\)</span> is the total probability in the range <span class="math notranslate nohighlight">\((- \infty, x)\)</span>. If we want to create a probability density, <span class="math notranslate nohighlight">\(f_X(x)\)</span>, then the CDF should be the <em>integral</em> of the probability density on this range:</p>
<div class="math notranslate nohighlight">
\[
F_X(x) = \int_{-\infty}^{x} f(u)~du.
\]</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There are several important things to note about the equation above:</p>
<ul class="simple">
<li><p>Note again the importance of distinguishing upper-case and lower-case letters: <span class="math notranslate nohighlight">\(F_X(x)\)</span> is a distribution function (CDF), whereas <span class="math notranslate nohighlight">\(f_X(x)\)</span> is a density function.</p></li>
<li><p>The distribution function at the point <span class="math notranslate nohighlight">\(x\)</span> is defined as the integral of the density function from <span class="math notranslate nohighlight">\(-\infty\)</span> to <span class="math notranslate nohighlight">\(x\)</span>. Because <span class="math notranslate nohighlight">\(x\)</span> is in the region of integration, we <strong>cannot use <span class="math notranslate nohighlight">\(x\)</span> as the variable of integration</strong>.  You can use any unused variable as the variable of integration (here, I chose <span class="math notranslate nohighlight">\(u\)</span>) to represent a variable that is changing values as we integrate from <span class="math notranslate nohighlight">\(u = -\infty\)</span> to <span class="math notranslate nohighlight">\(u=x\)</span>.  <strong>If you try to use <span class="math notranslate nohighlight">\(x\)</span> both in the region of integration and as the variable of integration, the answer will almost sure come out wrong!</strong></p></li>
</ul>
</div>
<p>Then we have the following definition of the probability density function (from the Fundamental Theorem of Calculus):</p>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-12 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">DEFINITION</p>
</div>
<div class="card-body docutils">
<dl class="glossary">
<dt id="term-probability-density-function-pdf">probability density function (pdf)<a class="headerlink" href="#term-probability-density-function-pdf" title="Permalink to this term">¶</a></dt><dd><p class="card-text">If <span class="math notranslate nohighlight">\(X\)</span> is a continuous random variable with distribution function <span class="math notranslate nohighlight">\(F_X(x)\)</span>, then the probability density function <span class="math notranslate nohighlight">\(f_X(x)\)</span> is</p>
<div class="amsmath math notranslate nohighlight" id="equation-858cd13b-d5ee-4dc2-9e2f-f4997827b75e">
<span class="eqno">(8.10)<a class="headerlink" href="#equation-858cd13b-d5ee-4dc2-9e2f-f4997827b75e" title="Permalink to this equation">¶</a></span>\[\begin{align} f_X(x) = \frac{d}{dx} F_X(x) \end{align}\]</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>First note the notation:</p>
<ul class="simple">
<li><p>We will use lower-case <em>pdf</em> to denote the probability density function, in the same way that we use lower-case <span class="math notranslate nohighlight">\(f\)</span> for this function.</p></li>
<li><p>We will use upper-case <em>CDF</em> to denote the cumulative distribution function, in the same way that we use upper-case <span class="math notranslate nohighlight">\(F\)</span> for this function.</p></li>
</ul>
<p>This consistency in capitalization will make it easier to remember the differences between these functions.  Although most books follow this convention, not all do, and you may encounter PDF to mean the probability density function in some contexts.</p>
</div>
<p><strong>SymPy for Derivatives</strong></p>
<p>Python has a powerful library for performing symbolic mathematics – i.e., mathematics with variables instead of specific values. I will briefly demonstrate how to use this library to find density functions from distribution functions, and vice versa. As usual, the first step is to import the library. Here, we will use the short name <code class="docutils literal notranslate"><span class="pre">sp</span></code> to refer to SymPy:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sympy</span> <span class="k">as</span> <span class="nn">sp</span>
</pre></div>
</div>
</div>
</div>
<p>The next step we will need to do is to create a variable that maps to a symbol. We can use the SymPy function <code class="docutils literal notranslate"><span class="pre">sp.symbols()</span></code> to create one or more symbols. The function <code class="docutils literal notranslate"><span class="pre">sp.symbols()</span></code> can be called with multiple different types of arguments, but we will always pass an argument that is a string containing a single variable name or a comma separated list of variable names.  The output will be a tuple that can will automatically unpack into a set of comma separated variables. We can create a SymPy symbol object for the variable <span class="math notranslate nohighlight">\(x\)</span> as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If we want to create SymPy objects for variables <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span>, we can use this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">symbols</span><span class="p">(</span> <span class="s1">&#39;y,z&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now we can now create a function  of any of these variables. For instance, if we want to create the function <span class="math notranslate nohighlight">\(g(x) = x^2 +5x +6\)</span>, we can just do the following:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
</div>
<p>We can take derivatives using <code class="docutils literal notranslate"><span class="pre">sp.diff()</span></code>. It takes two arguments: the function to take the derivative of, and the variable to differentiate. So we can get</p>
<div class="math notranslate nohighlight">
\[
\frac{d}{dx} g(x)
\]</div>
<p>using SymPy as follows</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sp</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\displaystyle 2 x + 5\]</div>
</div>
</div>
<p>The SymPy function <code class="docutils literal notranslate"><span class="pre">sp.integrate()</span></code> performs symbolic integration. It has a similar call pattern to <code class="docutils literal notranslate"><span class="pre">sp.diff()</span></code>: the first argument is the function to integrate, and the second argument is the variable of integration:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sp</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\displaystyle x^{2} + 5 x\]</div>
</div>
</div>
<p>(Note that the integral of the derivative is only equal to the original expression up to a constant.)</p>
<p>Many density and distribution functions are <em>piecewise functions</em>:</p>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-12 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">DEFINITION</p>
</div>
<div class="card-body docutils">
<dl class="glossary simple">
<dt id="term-piecewise-function">piecewise function<a class="headerlink" href="#term-piecewise-function" title="Permalink to this term">¶</a></dt><dd><p class="card-text">A <em>piecewise function</em> is a function that has a different functional relationship on different regions of its variable(s).</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<p>For instance, consider again the distribution of the uniform random variable <span class="math notranslate nohighlight">\(T\)</span> with range <span class="math notranslate nohighlight">\([0,365]\)</span>.  We saw that if <span class="math notranslate nohighlight">\(t \in [0, 365]\)</span>, then</p>
<div class="math notranslate nohighlight">
\[
F_T(t) = \frac{t}{365}.
\]</div>
<p>However, that does not generalize to outside of this interval.  For instance, since we know that the range of <span class="math notranslate nohighlight">\(T\)</span> is <span class="math notranslate nohighlight">\([0,365]\)</span>, then there are no values of <span class="math notranslate nohighlight">\(T\)</span> for which <span class="math notranslate nohighlight">\(T\le t\)</span> if <span class="math notranslate nohighlight">\(t &lt; 0\)</span>. For example, see below for an illustration of the relation of these regions:</p>
<a class="reference internal image-reference" href="../_images/uniform-cdf-less-than-zero.pdf"><img alt="" src="../_images/uniform-cdf-less-than-zero.pdf" style="width: 320px;" /></a>
<p>Thus,</p>
<div class="math notranslate nohighlight">
\[
F_T(t) = P(T \le t) = 0, \mbox{ if } t&lt;0.
\]</div>
<p>Similarly if <span class="math notranslate nohighlight">\(t&gt; 365,\)</span> then the region <span class="math notranslate nohighlight">\(T \le t\)</span> contains the region <span class="math notranslate nohighlight">\(T \le 365\)</span>, as shown below:</p>
<a class="reference internal image-reference" href="../_images/uniform-cdf-greater-than-365.pdf"><img alt="" src="../_images/uniform-cdf-greater-than-365.pdf" style="width: 320px;" /></a>
<p>Thus, all of the probability of <span class="math notranslate nohighlight">\(T\)</span> is contained in the region <span class="math notranslate nohighlight">\(T \le t\)</span>, and</p>
<div class="math notranslate nohighlight">
\[
F_T(t) = P (T \le t) = 1, \mbox{ if } t \ge 365.
\]</div>
<p>(We could also have considered the region <span class="math notranslate nohighlight">\(t \ge 365\)</span>, but we already have a functional relationship for <span class="math notranslate nohighlight">\(0 \le t \le 365\)</span>, which contains the pointer <span class="math notranslate nohighlight">\(t=365\)</span>.</p>
<p>Putting all this together, <span class="math notranslate nohighlight">\(F_T(t)\)</span> is a piecewise function given by</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
F_T(t) = 
\begin{cases}
0, &amp; t &lt; 0 \\
\frac{t}{365}, &amp; 0 \le t \le 365 \\
1, &amp; t &gt; 365 
\end{cases}
\end{equation*}\]</div>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">sp.Piecewise()</span></code> function to implement this in SymPy. The arguments of <code class="docutils literal notranslate"><span class="pre">sp.Piecewise()</span></code> are a sequence of tuples, where the first element of the tuple is the function, and the second element is the condition that specifies the region. Here is an implementation of the function <span class="math notranslate nohighlight">\(F_T(t)\)</span> above:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">=</span><span class="n">sp</span><span class="o">.</span><span class="n">Piecewise</span><span class="p">(</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="mi">365</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span><span class="mi">365</span><span class="p">)),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">&gt;</span><span class="mi">365</span><span class="p">)</span> <span class="p">)</span>
<span class="n">f</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle \begin{cases} 0 &amp; \text{for}\: x &lt; 0 \\\frac{x}{365} &amp; \text{for}\: x \leq 365 \\1 &amp; \text{otherwise} \end{cases}\end{split}\]</div>
</div>
</div>
<p>Note that the region for the second “piece” does not match the one we specified; that is because  <code class="docutils literal notranslate"><span class="pre">sp.Piecewise()</span></code> evaluates the conditions in order, so it is not necessary to specify <span class="math notranslate nohighlight">\(x \ge 0\)</span> for the second “piece”. Similarly, the last piece corresponds to every condition not covered by the first two. We could have taken advantage of this in creating SymPy version as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">=</span><span class="n">sp</span><span class="o">.</span><span class="n">Piecewise</span><span class="p">(</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="mi">365</span><span class="p">,</span> <span class="n">x</span> <span class="o">&lt;=</span><span class="mi">365</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span> <span class="p">)</span>
<span class="n">f</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle \begin{cases} 0 &amp; \text{for}\: x &lt; 0 \\\frac{x}{365} &amp; \text{for}\: x \leq 365 \\1 &amp; \text{otherwise} \end{cases}\end{split}\]</div>
</div>
</div>
<p>SymPy can differentiate piecewise functions, but the derivative is also piecewise. This works fine if the function being differentiated is continuous, but derivatives of functions with step discontinuities (like CDFs of discrete random variables) require using generalized functions (Dirac delta functions).</p>
<p>Here is the density function <span class="math notranslate nohighlight">\(f_T(t)\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sp</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle \begin{cases} 0 &amp; \text{for}\: x &lt; 0 \\\frac{1}{365} &amp; \text{for}\: x \leq 365 \\0 &amp; \text{otherwise} \end{cases}\end{split}\]</div>
</div>
</div>
<p>Note that probability densities are not probabilities. Like probabilities, they are non-negative (because a density function is the derivative of a monotonically nolen-decreasing function).  However, unlike probabilities, they are not upper-bounded by 1. For example, suppose that <span class="math notranslate nohighlight">\(U\)</span> is a uniform random variable with range <span class="math notranslate nohighlight">\([0, 0.1]\)</span>. Then the CDF is</p>
<div class="math notranslate nohighlight">
\[\begin{split}
F_U(u) = 
\begin{cases}
0, &amp; u &lt; 0 \\
\frac{u}{0.1}, &amp; 0 \le u \ 0.1 \\
1, &amp; u &gt; 1
\end{cases},
\end{split}\]</div>
<p>and the density function is</p>
<div class="math notranslate nohighlight">
\[\begin{split}
f_u(u) = \frac{d}{du} F_U(u) = 
\begin{cases}
10, &amp; 0 \le u \ 0.1 \\
0, &amp; \mbox{otherwise}
\end{cases}.
\end{split}\]</div>
<p>Now consider the time to the first Poisson event, <span class="math notranslate nohighlight">\(T_0\)</span>, which has the CDF</p>
<div class="math notranslate nohighlight">
\[\begin{split}
F_{T_0} (t) = 
\begin{cases} 
1 -P(t) = 1 - e^{\lambda t}, &amp; t \ge 0 \\
0, &amp; t &lt; 0
\end{cases}.
\end{split}\]</div>
<p>Then a SymPy implementation and derivative are shown below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="n">sp</span><span class="o">.</span><span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;t,l&#39;</span><span class="p">)</span>
<span class="n">FT0</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">Piecewise</span><span class="p">(</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">sp</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">l</span> <span class="o">*</span> <span class="n">t</span><span class="p">),</span> <span class="n">t</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">FT0</span>
                   
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle \begin{cases} 0 &amp; \text{for}\: t &lt; 0 \\1 - e^{- l t} &amp; \text{otherwise} \end{cases}\end{split}\]</div>
</div>
</div>
<p>Then the density function is given by</p>
<div class="math notranslate nohighlight">
\[
f_{T_0} = \frac{d}{dt} F_{T_0}(t),
\]</div>
<p>which is</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fT0</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">FT0</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="n">fT0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[\begin{split}\displaystyle \begin{cases} 0 &amp; \text{for}\: t &lt; 0 \\l e^{- l t} &amp; \text{otherwise} \end{cases}\end{split}\]</div>
</div>
</div>
</div>
<div class="section" id="properties-of-density-functions">
<h2><span class="section-number">8.6.4. </span>Properties of Density Functions<a class="headerlink" href="#properties-of-density-functions" title="Permalink to this headline">¶</a></h2>
<p><strong>1.The probability density function is non-negative:</strong> <span class="math notranslate nohighlight">\(f_X(x) \ge 0, -\infty &lt; x &lt; \infty\)</span></p>
<p><em>Proof:</em> Since the CDF, <span class="math notranslate nohighlight">\(F_X(x)\)</span>, is a nondecreasing function, its derivative is non-negative.</p>
<p>**2. The density function integrates to 1: **</p>
<p><em>Proof:</em> From the Fundamental Theorem of Calculus and the fact that <span class="math notranslate nohighlight">\(P(-\infty)=0\)</span>,</p>
<div class="math notranslate nohighlight">
\[
F_X(x) = \int_{-\infty}^{x} f_X(x) dx. 
\]</div>
<p>Then</p>
<div class="math notranslate nohighlight">
\[
\int_{-\infty}^{\infty} f_X(x) dx = F_X(\infty) = 1. 
\]</div>
<p><strong>3. Calculate the probability of an interval by integrating the density over it.</strong> I.e.,</p>
<div class="math notranslate nohighlight">
\[
P(a &lt; X \le b) = \int_a^b f_X(x) dx, a \le b
\]</div>
<p><em>Proof:</em></p>
<div class="amsmath math notranslate nohighlight">
\[\begin{eqnarray*}
P(a&lt; X \le b) &amp;=&amp; F_X(b) -F_X(a)  \\
  &amp;=&amp; \int_{-\infty}^{b} f_X(x)~dx - \int_{-\infty}^{a} f_X(x)~dx  \\
  &amp;=&amp; \int_a^b f_X(x)~dx .
\end{eqnarray*}\]</div>
<p><strong>4. Calculate probabilities of any Borel set by integrating the density over that set.</strong>
For any Borel set <span class="math notranslate nohighlight">\(B\)</span>,</p>
<div class="math notranslate nohighlight">
\[
P(B) = \int_B f_X(x)~dx.
\]</div>
<p><em>Proof Sketch:</em>
<span class="math notranslate nohighlight">\(B\)</span> can be written as the union of intervals, so pdf property 3 can be used to write the pdf of each interval as an integral of the pdf over the interval. Then the integral above is short-hand notation for integrating over all the intervals that make up <span class="math notranslate nohighlight">\(B\)</span>.</p>
<p>This is not a particularly powerful property when dealing with single random variables; however, when this property is extended to working with multiple random variables, it enables the computation of probabilities that cannot otherwise be computed.</p>
<p><strong>5. Almost any nonnegative function that integrates to 1 is a valid density function for some random variable.</strong></p>
<p>If <span class="math notranslate nohighlight">\(g(x)\)</span> is a nonnegative piecewise continuous function
with finite integral
\begin{eqnarray*}
\int_{-\infty}^{+\infty} g(x) dx = c, -\infty&lt; c &lt; +\infty,
\end{eqnarray*}
then <span class="math notranslate nohighlight">\(f_X(x)=\frac{g(x)}{c}\)</span> is a valid pdf for a random variable.</p>
<p><em>The proof is beyond the scope of this text.</em>*</p>
<p>Now that we have been introduced to continuous random variables, along with pdfs and their properties, we are ready to learn more about important continuous random variables and how to work with them using SciPy.stats in the next section.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./08-random-variables"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="important-discrete-rvs.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">8.4. </span>Important Discrete RVs</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="outline.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">8.7. </span>Outline of Remaining Sections</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By John M. Shea<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>